<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>


    <script>


        class User {

            constructor(nameValue, lastNameValue, emailValue) {
                this.firstName = nameValue
                this.lastName = lastNameValue
                this.email = emailValue
                this.cash = 0
                this.active = true
            }

            addCash(quantity) {
                this.cash += quantity
            }

            spendCash(quantity) {
                this.cash -= quantity
            }

            updateEmail(newEmail) {
                this.email = newEmail
            }
        }


        const user1 = new User('Ger', 'Alv', 'ger@msn.es')

        console.log(`El usuario ${user1.firstName} tiene ${user1.cash} euros en su cuenta`)

        user1.addCash(500)

        console.log(`El usuario ${user1.firstName} tiene ${user1.cash} euros en su cuenta`)






        class Player extends User {

            constructor(nameValue, lastNameValue, emailValue, nickValue) {
                super(nameValue, lastNameValue, emailValue)
                this.nick = nickValue
                this.lives = 10
                this.liveCost = 100
            }

            looseLives(livesLost) {
                this.lives -= livesLost
            }

            buyLives(livesToBuy) {

                const totalCost = livesToBuy * this.liveCost

                if (this.cash >= totalCost) {
                    this.lives += livesToBuy
                    this.cash -= totalCost
                } else {
                    throw new Error(`Necesitas ${totalCost} para comprar ${livesToBuy} vidas. Solo tienes ${this.cash}`)
                }
            }

        }


        const player1 = new Player('Conchi', 'López', 'conchi@msn.es', 'RuBiSeLaH_75')
        const player2 = new Player('Raúl', 'Whatever', 'raul@msn.es', 'ShU_MorENiKoh ò_Ó')

        console.log(`La jugadora`, player1.nick, 'en realidad se llama', player1.firstName, player1.lastName)



        console.log(`La jugadora ${player1.nick} tiene ${player1.cash}€ y ${player1.lives} vidas`)

        player1.addCash(1000)

        console.log(`La jugadora ${player1.nick} tiene ${player1.cash}€ y ${player1.lives} vidas`)



        player1.buyLives(5)
        // player1.buyLives(100)                //  error!!!

        console.log(`La jugadora ${player1.nick} tiene ${player1.cash}€ y ${player1.lives} vidas`)




        class Witch extends Player {

            constructor(nameValue, lastNameValue, emailValue, nickValue, spellValue) {
                super(nameValue, lastNameValue, emailValue, nickValue)
                this.spell = spellValue
            }

            makeSpell() {
                console.warn('¡La bruja', this.nick, 'te atacó con', this.spell)
            }
        }

        const witch1 = new Witch('Sara', 'Whatever', 'sara@msn.es', 'Tu BruJiKah ReBoNiKah', 'Abra cadabra')

        console.log('La jugadora con nick "', witch1.nick, '" en realidad se llama', witch1.firstName)

        witch1.makeSpell()






        class Gnome extends Player {

            constructor(nameValue, lastNameValue, emailValue, nickValue, attackValue) {
                super(nameValue, lastNameValue, emailValue, nickValue)
                this.speciaAttack = attackValue
            }

            attack() {
                console.log('el gnomo', this.nick, 'te atacó con', this.speciaAttack, '... ¡qué guarro!')
            }
        }


        const gnome1 = new Gnome('Fer', 'Díaz', 'fer@msn.es', 'davidote', 'escupitajos y miradas juiciosas')

        gnome1.attack()

        gnome1.addCash(1000)

        console.log(gnome1)




    </script>

</body>

</html>
